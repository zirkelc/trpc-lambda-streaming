{"version":3,"file":"httpClientUndici.js","names":["Cookies","_interopRequireWildcard","require","Headers","Client","Error","ClientResponse","IncomingMessage","UrlParams","Context","Effect","FiberRef","Inspectable","Layer","Option","Undici","NodeStream","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Dispatcher","exports","GenericTag","makeDispatcher","acquireRelease","sync","Agent","dispatcher","promise","close","dispatcherLayer","scoped","dispatcherLayerGlobal","getGlobalDispatcher","undiciOptionsTagKey","make","makeService","request","url","signal","fiber","context","getFiberRef","currentContext","options","unsafeMap","convertBody","body","pipe","flatMap","tryPromise","try","method","headers","origin","path","pathname","search","hash","headersTimeout","bodyTimeout","throwOnError","catch","cause","RequestError","reason","map","response","ClientResponseImpl","_tag","succeed","formData","toReadable","stream","noopErrorHandler","_","Class","source","TypeId","constructor","on","status","statusCode","statusText","undefined","cachedCookies","cookies","header","fromSetCookie","Array","isArray","empty","fromInput","remoteAddress","none","fromReadable","ResponseError","json","tryMap","text","JSON","parse","textBody","cached","runSync","urlParamsBody","URLSearchParams","formDataBody","arrayBufferBody","arrayBuffer","toJSON","inspect","_id","layerWithoutDispatcher","layerMergedContext","layer","provide"],"sources":["../../../src/internal/httpClientUndici.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}