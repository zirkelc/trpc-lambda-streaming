{"version":3,"file":"httpMultiplex.js","names":["Arr","_interopRequireWildcard","require","Effect","Effectable","_Function","Inspectable","Error","ServerRequest","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","MultiplexImpl","Class","apps","constructor","execute","request","fail","RouteNotFound","length","predicate","app","previous","flatMap","match","HttpServerRequest","commit","NodeInspectSymbol","toJSON","toString","format","_id","empty","make","fromIterable","add","dual","self","headerExact","header","value","req","headers","undefined","succeed","headerRegex","regex","test","headerStartsWith","prefix","startsWith","headerEndsWith","suffix","endsWith","hostRegex","hostStartsWith","hostEndsWith","hostExact","host"],"sources":["../../../src/internal/httpMultiplex.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}