{"version":3,"file":"httpPlatform.js","names":["Context","_interopRequireWildcard","require","Effect","_Function","Layer","Stream","Etag","FileSystem","Headers","serverResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","tag","GenericTag","make","impl","gen","fs","etagGen","Generator","of","fileResponse","path","options","pipe","bindTo","stat","bind","info","fromFileInfo","map","etag","start","Number","offset","end","bytesToRead","undefined","headers","empty","toString","mtime","_tag","value","toUTCString","contentLength","size","status","statusText","fileWebResponse","file","fromFileWeb","merge","unsafeFromRecord","Date","lastModified","layer","effect","flatMap","stream","_options","fromReadableStream","identity","provide","layerWeak"],"sources":["../../../src/internal/httpPlatform.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}