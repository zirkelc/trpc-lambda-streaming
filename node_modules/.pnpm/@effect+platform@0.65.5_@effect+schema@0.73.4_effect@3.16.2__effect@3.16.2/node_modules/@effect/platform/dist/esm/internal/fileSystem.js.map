{"version":3,"file":"fileSystem.js","names":["Channel","Chunk","GenericTag","Effect","identity","pipe","Layer","Option","Sink","Stream","Error","tag","Size","bytes","BigInt","KiB","n","MiB","GiB","TiB","bigint1024","bigintPiB","PiB","make","impl","of","exists","path","access","as","catchTag","e","reason","succeed","fail","readFileString","encoding","tryMap","readFile","try","_","TextDecoder","decode","catch","BadArgument","module","method","message","stream","options","open","flag","offset","tap","file","seek","map","unwrapScoped","sink","forEach","writeAll","writeFileString","data","flatMap","TextEncoder","encode","writeFile","notFound","SystemError","pathOrDescriptor","makeNoop","fileSystem","chmod","chown","copy","copyFile","link","makeDirectory","die","makeTempDirectory","makeTempDirectoryScoped","makeTempFile","makeTempFileScoped","readDirectory","readLink","realPath","remove","void","rename","oldPath","stat","symlink","fromPath","truncate","utimes","watch","layerNoop","bufferSize","bytesToRead","bytesToRead_","chunkSize","chunkSize_","undefined","loop","totalBytesRead","toRead","readAlloc","match","onNone","onSome","buf","write","length","bufferChunks","fromChannel","capacity"],"sources":["../../../src/internal/fileSystem.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}