{"version":3,"file":"command.js","names":["Chunk","Effect","dual","HashMap","Inspectable","Option","pipeArguments","Stream","commandExecutor","CommandTypeId","Symbol","for","isCommand","u","env","self","environment","_tag","makeStandard","union","fromIterable","Object","entries","filter","v","undefined","pipeTo","left","right","exitCode","flatMap","CommandExecutor","executor","feed","input","stdin","fromChunk","of","TextEncoder","encode","flatten","Array","from","flattenLoop","appendAll","runInShell","shell","lines","command","encoding","Proto","pipe","arguments","BaseProto","StandardProto","toJSON","_id","args","fromEntries","cwd","gid","uid","options","assign","create","PipedProto","makePiped","make","empty","none","stdout","stderr","into","output","start","stream","streamLines","string","workingDirectory","some"],"sources":["../../../src/internal/command.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}