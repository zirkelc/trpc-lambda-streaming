{"version":3,"file":"httpServer.js","names":["Context","Effect","dual","Layer","Client","ClientRequest","TypeId","Symbol","for","serverTag","GenericTag","serverProto","isServer","u","make","options","Object","assign","create","serve","args","isEffect","httpApp","middleware","scopedDiscard","flatMap","server","serveEffect","formatAddress","address","_tag","path","hostname","port","addressWith","effect","addressFormattedWith","logAddress","_","log","withLogAddress","layer","effectDiscard","pipe","provideMerge","makeTestClient","HttpClient","client","die","Error","host","url","succeed","mapRequest","prependUrl","layerTestClient"],"sources":["../../../src/internal/httpServer.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}