{"version":3,"file":"HttpApiClient.js","names":["ParseResult","Schema","Context","Effect","identity","Option","HttpApi","HttpApiSchema","HttpClient","HttpClientError","HttpClientRequest","HttpClientResponse","HttpMethod","make","api","options","gen","context","httpClient","pipe","baseUrl","undefined","mapRequest","prependUrl","transformClient","client","reflect","onGroup","group","identifier","onEndpoint","endpoint","errors","successAST","successEncoding","successStatus","makeUrl","compilePath","path","successDecode","map","ast","schema","kind","schemaBodyJson","schemaBodyUrlParams","response","arrayBuffer","buffer","Uint8Array","flatMap","decodeUnknown","text","handleError","request","error","get","status","die","ResponseError","reason","isNone","fail","decode","value","void","try","JSON","parse","catch","cause","json","mapError","isMultipart","payloadSchema","getMultipart","getOrElse","encodePayload","filter","encodeUnknown","encodeHeaders","headersSchema","name","url","baseRequest","method","succeed","bodyFormData","payload","_tag","hasBody","bodyJson","setUrlParams","orDie","httpRequest","headers","setHeaders","execute","asVoid","scoped","catchIf","isParseError","mapInputContext","input","merge","paramsRegex","segments","split","len","length","_","params","i"],"sources":["../../src/HttpApiClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}